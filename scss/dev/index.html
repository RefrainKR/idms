<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>샤니송 픽업 확률 계산기</title>
    
    <!-- Chart.js Core -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chart.js Datalabels Plugin -->
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    
    <!-- CSS 파일 연결 -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="container">
    <h1>샤니송 픽업 확률 계산기</h1>

    <div class="input-group">
        <div class="section-title">기본 설정</div>
        
        <div class="input-item">
            <label for="pickupCount">픽업 개수</label>
            <input type="number" id="pickupCount">
        </div>
        <div class="input-item">
            <label for="pickupRate">개별 픽업 확률 (%)</label>
            <input type="number" id="pickupRate">
        </div>

        <div class="section-title">스탭업 설정</div>

        <div class="input-item">
            <label for="maxLoops">최대 주회(周回) 수</label>
            <input type="number" id="maxLoops">
        </div>
        <div class="input-item">
            <label for="step4Rate">Step4 픽업 확률 (%)</label>
            <input type="number" id="step4Rate">
        </div>

        <div class="loop-rewards-container" id="loopRewardsArea">
            <!-- JS로 동적 생성됨 -->
        </div>

        <div class="section-title">가챠 횟수</div>

        <div class="input-item">
            <label for="normalPulls">일반 가챠 횟수</label>
            <input type="number" id="normalPulls">
        </div>
        <div class="input-item">
            <label for="stepPulls">스탭업 가챠 횟수 (Max 자동)</label>
            <input type="number" id="stepPulls">
        </div>
    </div>
    
    <div class="result-area" id="resultArea">
        <div class="chart-row">
            <div class="chart-container">
                <canvas id="resultChart"></canvas>
            </div>
            <div class="legend-container" id="legendList">
                <!-- JS로 동적 생성됨 -->
            </div>
        </div>

        <div class="summary" id="summaryText">
            값을 입력하고 엔터 또는 포커스를 해제하면 결과가 나타납니다.
        </div>

        <div class="logic-detail" id="logicDetailText" style="display:none;">
            <!-- JS로 동적 생성됨 -->
        </div>
    </div>
</div>

<!-- JS 파일 연결 (type="module") -->
<script type="module" src="js/script.js"></script>

</body>
</html>